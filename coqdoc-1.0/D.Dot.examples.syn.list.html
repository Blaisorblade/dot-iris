<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">D.Dot.examples.syn.list</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab153"></a><h1 class="section">Encoding covariant lists.</h1>


<div class="paragraph"> </div>

Here, the main lemma is <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#listTyp"><span class="id" title="definition">listTyp</span></a></span>, saying that <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a></span> <span class="inlinecode"><a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a></span> (the code shown
in the paper) has type <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a></span> <span class="inlinecode"><a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a></span> in a context offering a boolean
implementation.
Subsequent examples demonstrate how to link lists with the boolean
implementation we provide, and how to <i>use</i> lists.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">D</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">D.Dot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.Dot.syn.syn.html#"><span class="id" title="library">syn</span></a> <a class="idref" href="D.Dot.examples.stamping.unstampedness_binding.html#"><span class="id" title="library">unstampedness_binding</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">D.Dot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#"><span class="id" title="library">old_unstamped_typing</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#"><span class="id" title="library">old_unstamped_typing_derived_rules</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">D.Dot.examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.Dot.examples.ex_utils.html#"><span class="id" title="library">ex_utils</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#"><span class="id" title="library">scala_lib</span></a> <a class="idref" href="D.Dot.examples.hoas.html#"><span class="id" title="library">hoas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">DBNotation</span> <span class="id" title="var">hoasNotation</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>: <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="htrueTm"><span class="id" title="definition">htrueTm</span></a> (<span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a>) := <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "true").<br/>
<span class="id" title="keyword">Definition</span> <a name="hfalseTm"><span class="id" title="definition">hfalseTm</span></a> (<span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a>) := <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "false").<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="trueTyp"><span class="id" title="lemma">trueTyp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ''</span> : <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#htrueTm"><span class="id" title="definition">htrueTm</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>)) <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "Boolean".<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> ?: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">Γ''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_ISub"><span class="id" title="constructor">iT_ISub</span></a> (<span class="id" title="var">i</span> := 1) (<span class="id" title="var">T1</span> := <a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">Γ''</span>) <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "Boolean"));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnO"><span class="id" title="lemma">plusnO</span></a>; <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Mu_E'"><span class="id" title="lemma">iT_Mu_E'</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Var'"><span class="id" title="lemma">iT_Var'</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> [<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.list.html#lookup_app_r"><span class="id" title="lemma">lookup_app_r</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>|]; <span class="id" title="var">stcrush</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="falseTyp"><span class="id" title="lemma">falseTyp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ''</span> : <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hfalseTm"><span class="id" title="definition">hfalseTm</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>)) <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "Boolean".<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> ?: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">Γ''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_ISub"><span class="id" title="constructor">iT_ISub</span></a> (<span class="id" title="var">i</span> := 1) (<span class="id" title="var">T1</span> := <a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx"><span class="id" title="abbreviation">hx</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">Γ''</span>) <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "Boolean"));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnO"><span class="id" title="lemma">plusnO</span></a>; <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Mu_E'"><span class="id" title="lemma">iT_Mu_E'</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Var'"><span class="id" title="lemma">iT_Var'</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> [<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.list.html#lookup_app_r"><span class="id" title="lemma">lookup_app_r</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>|]; <span class="id" title="var">stcrush</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab154"></a><h2 class="section">Interface of the list module.</h2>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">sci</span></span>&nbsp;stands&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">scala.collection.immutable</span></span>,&nbsp;following&nbsp;the&nbsp;example&nbsp;in&nbsp;WadlerFest&nbsp;DOT.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="hlistTGen"><span class="id" title="definition">hlistTGen</span></a> (<span class="id" title="var">bool</span> <span class="id" title="var">sci</span> : <a class="idref" href="D.Dot.examples.hoas.html#hpath"><span class="id" title="definition">hpath</span></a>) <span class="id" title="var">L</span> <span class="id" title="var">U</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">μ</span></a><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">:</span></a> <span class="id" title="var">self</span><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#U"><span class="id" title="variable">U</span></a><a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "isEmpty" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "Boolean"<a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "head" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#self"><span class="id" title="variable">self</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "A"<a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "tail" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#self"><span class="id" title="variable">self</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "A" )<br/>
<a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab155"></a><h3 class="section">The list type itself.</h3>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hlistT"><span class="id" title="definition">hlistT</span></a> <span class="id" title="var">bool</span> <span class="id" title="var">sci</span> := <a class="idref" href="D.Dot.examples.syn.list.html#hlistTGen"><span class="id" title="definition">hlistTGen</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>.<br/>

<br/>
</div>

<div class="doc">
This ▶: Later is needed because
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hnilT"><span class="id" title="definition">hnilT</span></a></span> types a value member "nil" (which can't use skips), and

</li>
<li> this value member has abstract type <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a></span> <span class="inlinecode">@;</span> <span class="inlinecode">&quot;<span class="id" title="library">List</span>&quot;</span>, and

</li>
<li> when we initialize "nil", <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a></span> has type <span class="inlinecode">▶:(<span class="id" title="keyword">type</span></span> <span class="inlinecode">&quot;<span class="id" title="library">List</span>&quot;</span> <span class="inlinecode">&gt;:</span> <span class="inlinecode">...</span> <span class="inlinecode">&lt;:</span> <span class="inlinecode">...</span>, so
  we can't deduce anything about <span class="inlinecode"><span class="id" title="var">sci@</span>;&quot;<span class="id" title="library">List</span>&quot;</span>, only something about
  <span class="inlinecode">▶:(<span class="id" title="var">sci@</span>;</span> <span class="inlinecode">&quot;<span class="id" title="library">List</span>&quot;)</span>. 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hnilT"><span class="id" title="definition">hnilT</span></a> <span class="id" title="var">sci</span> := <a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#e0367edc442ddac958aee91438102748"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.typeEq"><span class="id" title="definition">typeEq</span></a> "A" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a>).<br/>

<br/>
</div>

<div class="doc">
∀(x: {A})∀(hd: x.A)∀(tl: sci.List∧{A &lt;: x.A})sci.List∧{A &lt;: x.A} 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hconsT"><span class="id" title="definition">hconsT</span></a> <span class="id" title="var">sci</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">∀:</span></a> <span class="id" title="var">x</span> <a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.tparam"><span class="id" title="abbreviation">tparam</span></a> "T"<a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T" <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T")<a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">)</span></a> <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T").<br/>

<br/>
</div>

<div class="doc">
mod stands for module. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hlistModTBody"><span class="id" title="definition">hlistModTBody</span></a> <span class="id" title="var">bool</span> <span class="id" title="var">sci</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "List" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistT"><span class="id" title="definition">hlistT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "nil" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hnilT"><span class="id" title="definition">hnilT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "cons" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsT"><span class="id" title="definition">hconsT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><br/>
<a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="hlistModT"><span class="id" title="definition">hlistModT</span></a> <span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">μ</span></a><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">:</span></a> <span class="id" title="var">sci</span><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTBody"><span class="id" title="definition">hlistModTBody</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab156"></a><h2 class="section">Implementation of the list module.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hnilV"><span class="id" title="definition">hnilV</span></a> <span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">ν</span></a><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">:</span></a> <span class="id" title="var">self</span><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "isEmpty" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#htrueTm"><span class="id" title="definition">htrueTm</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "head" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas_ex_utils.html#loopTms.hloopTm"><span class="id" title="definition">hloopTm</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "tail" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas_ex_utils.html#loopTms.hloopTm"><span class="id" title="definition">hloopTm</span></a><br/>
<a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;λ(x:&nbsp;{A})λ(hd:&nbsp;x.A)λ(tl:&nbsp;sci.List∧{A&nbsp;&lt;:&nbsp;x.A})&nbsp;let&nbsp;result&nbsp;=&nbsp;ν(self)&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;=&nbsp;x.A;&nbsp;isEmpty&nbsp;=&nbsp;bool.false;&nbsp;head&nbsp;=&nbsp;hd;&nbsp;tail&nbsp;=&nbsp;tl&nbsp;}&nbsp;in&nbsp;result&nbsp;*)</span><br/>
<span class="id" title="keyword">Program Definition</span> <a name="hconsV"><span class="id" title="definition">hconsV</span></a> <span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">x</span> <span class="id" title="var">hd</span> <span class="id" title="var">tl</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">ν</span></a><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">:</span></a> <span class="id" title="var">self</span><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T"<a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "isEmpty" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hfalseTm"><span class="id" title="definition">hfalseTm</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "head" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a>    <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hd"><span class="id" title="variable">hd</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "tail" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a>    <a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">λ</span></a><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="D.Dot.examples.hoas.html#77e880f8e16415230d458d3dd9dd7d47"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#tl"><span class="id" title="variable">tl</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hlistModV"><span class="id" title="definition">hlistModV</span></a> (<span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a>) : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">ν</span></a><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">:</span></a> <span class="id" title="var">self</span><a class="idref" href="D.Dot.examples.hoas.html#b765f911d00e667273c5726a29666d70"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">type</span></a> "List" <a class="idref" href="D.Dot.examples.hoas.html#94acf627d08efa4f0a1f69dc193a1fb3"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistT"><span class="id" title="definition">hlistT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#self"><span class="id" title="variable">self</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "nil"  <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hnilV"><span class="id" title="definition">hnilV</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a><a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">val</span></a> "cons" <a class="idref" href="D.Dot.examples.hoas.html#7a2ccd3039e0d6e79be6ed27d574ba71"><span class="id" title="notation">=</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsV"><span class="id" title="definition">hconsV</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a><br/>
<a class="idref" href="D.Dot.examples.hoas.html#228bb38a1d1ce7d86c8f11e064584a00"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab157"></a><h2 class="section">Auxiliary types, needed in derivations of typing judgments.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hconsTResConcr"><span class="id" title="definition">hconsTResConcr</span></a> <span class="id" title="var">bool</span> <span class="id" title="var">sci</span> <span class="id" title="var">U</span> := <a class="idref" href="D.Dot.examples.syn.list.html#hlistTGen"><span class="id" title="definition">hlistTGen</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#U"><span class="id" title="variable">U</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hconsTConcr"><span class="id" title="definition">hconsTConcr</span></a> (<span class="id" title="var">bool</span> <span class="id" title="var">sci</span> : <a class="idref" href="D.Dot.examples.hoas.html#hpath"><span class="id" title="definition">hpath</span></a>) : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">∀:</span></a> <span class="id" title="var">x</span><a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.tparam"><span class="id" title="abbreviation">tparam</span></a> "T"<a class="idref" href="D.Dot.examples.hoas.html#fad0f22540ee1043bb4031c8182a8c51"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T" <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T") <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.syn.list.html#hconsTResConcr"><span class="id" title="definition">hconsTResConcr</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T")<a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <span class="id" title="var">bool</span> <span class="id" title="var">sci</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">{@</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.typeEq"><span class="id" title="definition">typeEq</span></a> "List" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistT"><span class="id" title="definition">hlistT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "nil" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hnilT"><span class="id" title="definition">hnilT</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "cons" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsTConcr"><span class="id" title="definition">hconsTConcr</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a><br/>
<a class="idref" href="D.Dot.examples.hoas.html#e3020cf33d78a94b82155f3b6b087159"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hlistModTConcr"><span class="id" title="definition">hlistModTConcr</span></a> <span class="id" title="var">bool</span> : <a class="idref" href="D.Dot.examples.hoas.html#hty"><span class="id" title="definition">hty</span></a> := <a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">μ</span></a><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">:</span></a> <span class="id" title="var">sci</span><a class="idref" href="D.Dot.examples.hoas.html#eebc01a27482beba2e49b11948bab893"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#sci"><span class="id" title="variable">sci</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab158"></a><h2 class="section">Lemmas for proof that <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a></span> has type <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a></span>.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a name="nilTyp"><span class="id" title="definition">nilTyp</span></a> <span class="id" title="var">Γ</span> : (<a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>)%<span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hnilV"><span class="id" title="definition">hnilV</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hnilT"><span class="id" title="definition">hnilT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistTGen"><span class="id" title="definition">hlistTGen</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> ).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">evar</span> (<span class="id" title="var">T</span> : <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">L</span> := (<a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>)%<span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> := <a class="idref" href="D.prelude.html#a9a0b33c1f7aa55888d16704fbe19a94"><span class="id" title="notation">!!</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#trueTyp"><span class="id" title="lemma">trueTyp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">L</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> := <a class="idref" href="D.prelude.html#a9a0b33c1f7aa55888d16704fbe19a94"><span class="id" title="notation">!!</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#loop.loopTyp"><span class="id" title="definition">loopTyp</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}/<span class="id" title="var">T</span>/= ⇒ <span class="id" title="var">Ht</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tcrush</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a>); <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">tcrush</span>; <span class="id" title="var">last</span> <span class="id" title="var">mltcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ettrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#iSub_Add_Later"><span class="id" title="constructor">iSub_Add_Later</span></a>; <span class="id" title="var">stcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">asideLaters</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a>; <span class="id" title="var">tcrush</span>. <span class="id" title="var">varsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">asideLaters</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="consTyp"><span class="id" title="definition">consTyp</span></a> <span class="id" title="var">Γ</span> : (<a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>)%<span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hconsV"><span class="id" title="definition">hconsV</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsTConcr"><span class="id" title="definition">hconsTConcr</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="D.Dot.examples.syn.list.html#falseTyp"><span class="id" title="lemma">falseTyp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">tcrush</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
</div>

<div class="doc">
Typecheck returned head: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">varsub</span>; <span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx4"><span class="id" title="abbreviation">hx4</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "T")); <span class="id" title="var">tcrush</span>; <span class="id" title="var">varsub</span>; <span class="id" title="var">ltcrush</span>.<br/>
</div>

<div class="doc">
    Typecheck returned tail. Recall <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a></span> starts with

<div class="paragraph"> </div>

      <span class="inlinecode"><span class="id" title="var">λ</span>:</span> <span class="inlinecode"><a class="idref" href="D.iris_extra.lty.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hd"><span class="id" title="variable">hd</span></a></span> <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#tl"><span class="id" title="variable">tl</span></a>,</span> <span class="inlinecode"><span class="id" title="var">ν</span>:</span> <span class="inlinecode"><a class="idref" href="D.Dot.examples.hoas_ex_utils.html#self"><span class="id" title="variable">self</span></a>,</span> <span class="inlinecode">...</span>.

<div class="paragraph"> </div>

    Hence, <span class="inlinecode"><span class="id" title="var">x.A</span></span> is the type argument to <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a></span>, and <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#tl"><span class="id" title="variable">tl</span></a></span> has type
    <span class="inlinecode"><span class="id" title="library">List</span></span> <span class="inlinecode">&amp;</span> <span class="inlinecode">{<a class="idref" href="D.iris_extra.cmra_prop_lift.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x.A</span>}</span>.

<div class="paragraph"> </div>

    Since <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a></span> constructs a new object, <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hconsTConcr"><span class="id" title="definition">hconsTConcr</span></a></span> types it against
    a *copy* of the list body, whose element type <span class="inlinecode"><span class="id" title="var">self.A</span></span> is a copy of <span class="inlinecode"><span class="id" title="var">x.A</span></span>.  Hence, we must show that <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#tl"><span class="id" title="variable">tl</span></a></span> has type <span class="inlinecode"><span class="id" title="library">List</span></span> <span class="inlinecode">&amp;</span> <span class="inlinecode">{<a class="idref" href="D.iris_extra.cmra_prop_lift.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">self.A</span>}</span>.  It suffices to show that <span class="inlinecode"><span class="id" title="library">List</span></span> <span class="inlinecode">&amp;</span> <span class="inlinecode">{<a class="idref" href="D.iris_extra.cmra_prop_lift.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x.A</span>}</span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="library">List</span></span> <span class="inlinecode">&amp;</span> <span class="inlinecode">{<a class="idref" href="D.iris_extra.cmra_prop_lift.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">self.A</span>}</span>: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">varsub</span>.<br/>
</div>

<div class="doc">
It suffices to show that <span class="inlinecode"><span class="id" title="var">x.A</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">self.A</span></span>: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">tcrush</span>; <span class="id" title="var">lNext</span>.<br/>

<br/>
</div>

<div class="doc">
We do it using <span class="inlinecode"><a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a></span> on <span class="inlinecode"><span class="id" title="var">self.A</span></span>, and looking up <span class="inlinecode"><a class="idref" href="D.iris_extra.cmra_prop_lift.html#A"><span class="id" title="variable">A</span></a></span> on <span class="inlinecode"><a class="idref" href="D.Dot.examples.hoas_ex_utils.html#self"><span class="id" title="variable">self</span></a></span>'s type. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a>, (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#path_tp_delay"><span class="id" title="lemma">path_tp_delay</span></a> (<span class="id" title="var">i</span> := 0)); <span class="id" title="var">wtcrush</span>. <span class="id" title="var">varsub</span>; <span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">norm</span> := <span class="id" title="tactic">cbv</span>; <span class="id" title="var">hideCtx</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="consTSub"><span class="id" title="lemma">consTSub</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcrBody"><span class="id" title="definition">hlistModTConcrBody</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#a5cc8b0c9a64d0dbf103c1b15f7a84f9"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#a5cc8b0c9a64d0dbf103c1b15f7a84f9"><span class="id" title="notation">⊢ₜ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hconsTConcr"><span class="id" title="definition">hconsTConcr</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a><a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#a5cc8b0c9a64d0dbf103c1b15f7a84f9"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#a5cc8b0c9a64d0dbf103c1b15f7a84f9"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsT"><span class="id" title="definition">hconsT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a><a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#a5cc8b0c9a64d0dbf103c1b15f7a84f9"><span class="id" title="notation">,</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">tcrush</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_S"><span class="id" title="lemma">iterate_S</span></a> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_0"><span class="id" title="lemma">iterate_0</span></a>; <span class="id" title="var">hideCtx</span>; <span class="id" title="var">last</span> <span class="id" title="var">mltcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a>, (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#path_tp_delay"><span class="id" title="lemma">path_tp_delay</span></a> (<span class="id" title="var">i</span> := 0)); <span class="id" title="var">wtcrush</span>; <span class="id" title="var">varsub</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="listTypConcr"><span class="id" title="definition">listTypConcr</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTConcr"><span class="id" title="definition">hlistModTConcr</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hn</span> := <a class="idref" href="D.Dot.examples.syn.list.html#nilTyp"><span class="id" title="definition">nilTyp</span></a> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Without&nbsp;the&nbsp;call&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">iD_Val</span></span>,&nbsp;Coq&nbsp;would&nbsp;(smartly)&nbsp;default&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">iD_All</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> := <a class="idref" href="D.Dot.examples.syn.list.html#consTyp"><span class="id" title="definition">consTyp</span></a> <span class="id" title="var">Γ</span> ⇒ /(<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iD_Val"><span class="id" title="constructor">iD_Val</span></a> "cons") <span class="id" title="var">Hc</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">tcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab159"></a><h2 class="section">Proof that <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a></span> has type <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a></span>.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a name="listTyp"><span class="id" title="definition">listTyp</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hv</span> := <a class="idref" href="D.Dot.examples.syn.list.html#listTypConcr"><span class="id" title="definition">listTypConcr</span></a> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> := <a class="idref" href="D.Dot.examples.syn.list.html#consTSub"><span class="id" title="lemma">consTSub</span></a> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">ltcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab160"></a><h2 class="section">Link lists with booleans.</h2>

</div>
<div class="code">

<br/>
<span class="comment">(*<br/>
Naive&nbsp;attempt;&nbsp;this&nbsp;fails,&nbsp;because&nbsp;the&nbsp;return&nbsp;type&nbsp;mentions&nbsp;a&nbsp;local&nbsp;variable.<br/>
Inferring&nbsp;return&nbsp;types&nbsp;that&nbsp;avoid&nbsp;mentioning&nbsp;local&nbsp;variables&nbsp;is&nbsp;called&nbsp;the<br/>
avoidance&nbsp;problem,&nbsp;a&nbsp;term&nbsp;going&nbsp;back&nbsp;to&nbsp;the&nbsp;ML&nbsp;module&nbsp;literature.&nbsp;*)</span><br/>
<span class="comment">(*<br/>
Definition&nbsp;hclListV&nbsp;:=<br/>
&nbsp;&nbsp;hlett:&nbsp;bool&nbsp;:=&nbsp;pureS&nbsp;boolImplV&nbsp;in:<br/>
&nbsp;&nbsp;hlistModV&nbsp;bool.<br/>
<br/>
Example&nbsp;clListTyp&nbsp;Γ&nbsp;:&nbsp;Γ&nbsp;u⊢ₜ&nbsp;hclListV&nbsp;:&nbsp;hlistModT&nbsp;hx0.<br/>
&nbsp;&nbsp;eapply&nbsp;iT_Let.&nbsp;apply&nbsp;boolImplTyp.<br/>
&nbsp;&nbsp;Fail&nbsp;rewrite&nbsp;(_&nbsp;:&nbsp;shift&nbsp;(hclose&nbsp;(hlistModT&nbsp;hx0))&nbsp;=&nbsp;hlistModT&nbsp;hx0);&nbsp;last&nbsp;done.<br/>
&nbsp;&nbsp;Fail&nbsp;apply&nbsp;listTyp.<br/>
Abort.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hclListV'"><span class="id" title="definition">hclListV'</span></a> (<span class="id" title="var">hbody</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.Dot.examples.hoas.html#htm"><span class="id" title="definition">htm</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">hlett</span></a><a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:</span></a> <span class="id" title="var">bool</span> <a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:=</span></a> <a class="idref" href="D.Dot.examples.hoas.html#pureS"><span class="id" title="definition">pureS</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplV"><span class="id" title="definition">boolImplV</span></a> <a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">in</span></a><a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">hlett</span></a><a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:</span></a> <span class="id" title="var">list</span> <a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:=</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModV"><span class="id" title="definition">hlistModV</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">in</span></a><a class="idref" href="D.Dot.examples.hoas.html#f9d7f55417953a1ca4f7a20faed1788d"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hbody"><span class="id" title="variable">hbody</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#bool"><span class="id" title="variable">bool</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#list"><span class="id" title="variable">list</span></a>.<br/>

<br/>
</div>

<div class="doc">
Have <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#clListV'"><span class="id" title="definition">clListV'</span></a></span> take an open de BruijN <span class="inlinecode"><a class="idref" href="D.Dot.syn.syn.html#VlSorts.tm"><span class="id" title="inductive">tm</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="clListV'"><span class="id" title="definition">clListV'</span></a> (<span class="id" title="var">body</span> : <a class="idref" href="D.Dot.syn.syn.html#VlSorts.tm"><span class="id" title="inductive">tm</span></a>) := <a class="idref" href="D.Dot.examples.syn.list.html#hclListV'"><span class="id" title="definition">hclListV'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#pureS"><span class="id" title="definition">pureS</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#body"><span class="id" title="variable">body</span></a>).<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="clListTyp'"><span class="id" title="definition">clListTyp'</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">T</span> : <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a>) <span class="id" title="var">body</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">Ht</span> : <a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#body"><span class="id" title="variable">body</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#T"><span class="id" title="variable">T</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#clListV'"><span class="id" title="definition">clListV'</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#body"><span class="id" title="variable">body</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Let"><span class="id" title="lemma">iT_Let</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplTyp"><span class="id" title="definition">boolImplTyp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Let"><span class="id" title="lemma">iT_Let</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.list.html#listTyp"><span class="id" title="definition">listTyp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="clListTypNat"><span class="id" title="definition">clListTypNat</span></a> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#clListV'"><span class="id" title="definition">clListV'</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#syn.hvint"><span class="id" title="abbreviation">hvint</span></a> 1) <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.list.html#clListTyp'"><span class="id" title="definition">clListTyp'</span></a>. <span class="id" title="var">tcrush</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This typing lemma generalizes over an arbitrary body <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hbody"><span class="id" title="variable">hbody</span></a></span>, taken as open HOAS terms. To close it,
we must turn it into a concrete term exactly as <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.list.html#hclListV'"><span class="id" title="definition">hclListV'</span></a></span> would, which exposes implementation details
I'd rather not. 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a name="clListTyp'2"><span class="id" title="definition">clListTyp'2</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">T</span> : <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a>) <span class="id" title="var">hbody</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">Ht</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.syn.syn.html#VlSorts.ty"><span class="id" title="inductive">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hbody"><span class="id" title="variable">hbody</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 1) (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 2) 2 <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#T"><span class="id" title="variable">T</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hclListV'"><span class="id" title="definition">hclListV'</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hbody"><span class="id" title="variable">hbody</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Let"><span class="id" title="lemma">iT_Let</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplTyp"><span class="id" title="definition">boolImplTyp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Let"><span class="id" title="lemma">iT_Let</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.list.html#listTyp"><span class="id" title="definition">listTyp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="clListTypNat2"><span class="id" title="definition">clListTypNat2</span></a> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hclListV'"><span class="id" title="definition">hclListV'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.hvint"><span class="id" title="abbreviation">hvint</span></a> 1) <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.list.html#clListTyp'2"><span class="id" title="definition">clListTyp'2</span></a>. <span class="id" title="var">tcrush</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab161"></a><h2 class="section">Link lists with booleans and with a client using the list API.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hheadCons"><span class="id" title="definition">hheadCons</span></a> (<span class="id" title="var">list</span> : <a class="idref" href="D.Dot.examples.hoas.html#hvl"><span class="id" title="definition">hvl</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">(</span></a><a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hAnfBind"><span class="id" title="definition">hAnfBind</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.htyApp"><span class="id" title="definition">htyApp</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#list"><span class="id" title="variable">list</span></a> <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "cons") "T" <a class="idref" href="D.Dot.examples.hoas.html#49045ffec38a75053344fc4b3dd8a9a9"><span class="id" title="notation">𝐙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#5dc6e48cac7b4e60846f98b2731a8cef"><span class="id" title="notation">$:</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#5dc6e48cac7b4e60846f98b2731a8cef"><span class="id" title="notation">$:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#list"><span class="id" title="variable">list</span></a> <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "nil"))<a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "head" <a class="idref" href="D.Dot.examples.hoas.html#5dc6e48cac7b4e60846f98b2731a8cef"><span class="id" title="notation">$:</span></a> 0).<br/>
<span class="comment">(*&nbsp;Invoking&nbsp;a&nbsp;method&nbsp;from&nbsp;an&nbsp;abstract&nbsp;type&nbsp;(here,&nbsp;<span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode">@;</span> <span class="inlinecode">&quot;<span class="id" title="var">List</span>&quot;</span>&nbsp;needs&nbsp;a&nbsp;skip.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Program Example</span> <a name="hheadConsTyp"><span class="id" title="definition">hheadConsTyp</span></a> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#hlistModT"><span class="id" title="definition">hlistModT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.scala_lib.html#boolImplT"><span class="id" title="definition">boolImplT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hheadCons"><span class="id" title="definition">hheadCons</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 2) 2 <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hideCtx</span>; <span class="id" title="tactic">set</span> <span class="id" title="var">Γ'</span> := <span class="id" title="var">Γ0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">HL</span> : <span class="id" title="var">Γ'</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#DBNotation.x0"><span class="id" title="abbreviation">x0</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hlistModTBody"><span class="id" title="definition">hlistModTBody</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Mu_E'"><span class="id" title="lemma">iT_Mu_E'</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">var</span>; <span class="id" title="var">stcrush</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;result&nbsp;of&nbsp;"head"&nbsp;has&nbsp;one&nbsp;more&nbsp;later&nbsp;than&nbsp;the&nbsp;list.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_ISub"><span class="id" title="constructor">iT_ISub</span></a> (<span class="id" title="var">i</span> := 2) (<span class="id" title="var">T1</span> := <a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#3b46f8a39b2df2d3ba2df41c9fe962c8"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">asideLaters</span>. <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_All_E"><span class="id" title="constructor">iT_All_E</span></a> (<span class="id" title="var">T1</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>)); <span class="id" title="var">last</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>); <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hnil</span>: <span class="id" title="var">Γ'</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 2 <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "nil") 2 <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hnilT"><span class="id" title="definition">hnilT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">tcrush</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>; <span class="id" title="var">ltcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsnil</span>: <span class="id" title="var">Γ'</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.htskip"><span class="id" title="definition">htskip</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 2 <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "nil") 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.typeEq"><span class="id" title="definition">typeEq</span></a> "A" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_ISub"><span class="id" title="constructor">iT_ISub</span></a> (<span class="id" title="var">i</span> := 1)), <span class="id" title="var">Hnil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">tcrush</span>; [<span class="id" title="var">lThis</span> | <span class="id" title="var">lNext</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_AddI"><span class="id" title="lemma">iSub_AddI</span></a>; <span class="id" title="var">tcrush</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hcons</span>: <span class="id" title="var">Γ'</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hxm"><span class="id" title="definition">hxm</span></a> 2 <a class="idref" href="D.Dot.examples.hoas.html#c85e36e9b233cbdeb3214538b1e4a566"><span class="id" title="notation">@:</span></a> "cons") 2 <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hconsT"><span class="id" title="definition">hconsT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>; <span class="id" title="tactic">by</span> [| <span class="id" title="var">ltcrush</span>].<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Here&nbsp;we&nbsp;produce&nbsp;a&nbsp;list&nbsp;of&nbsp;later&nbsp;nats,&nbsp;since&nbsp;we&nbsp;produce&nbsp;a&nbsp;list&nbsp;of&nbsp;p.A&nbsp;where&nbsp;p&nbsp;is&nbsp;the<br/>
&nbsp;&nbsp;"type"&nbsp;argument&nbsp;and&nbsp;p&nbsp;:&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat}&nbsp;so&nbsp;p.A&nbsp;&lt;:&nbsp;▶:&nbsp;Nat.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">U</span> := (<a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">type</span></a> "A" <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="D.Dot.examples.hoas.html#8040d5e010e1bd5a7559ed70f1888ea8"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#e0367edc442ddac958aee91438102748"><span class="id" title="notation">▶:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#49045ffec38a75053344fc4b3dd8a9a9"><span class="id" title="notation">𝐙</span></a>)%<span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">V</span> := (<a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.syn.list.html#hlistT"><span class="id" title="definition">hlistT</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx1"><span class="id" title="abbreviation">hx1</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a>) <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#AnfBind_typed"><span class="id" title="lemma">AnfBind_typed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <span class="id" title="var">V</span>); <span class="id" title="var">stcrush</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>; <span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_Mu_E'"><span class="id" title="lemma">iT_Mu_E'</span></a> (<span class="id" title="var">T1</span> := (<a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">val</span></a> "head" <a class="idref" href="D.Dot.examples.hoas.html#dac71af5b2f1b5b356d8450427b7ece1"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="D.Dot.examples.hoas.html#d71d9a5ce88ae18071782d76f145573c"><span class="id" title="notation">→:</span></a> <a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "A")%<span class="id" title="var">HS</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="var">done</span> | <span class="id" title="var">tcrush</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">varsub</span>; <span class="id" title="var">asideLaters</span>; <span class="id" title="var">lThis</span>; <span class="id" title="var">ltcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSel_SubL"><span class="id" title="lemma">iSel_SubL</span></a> (<span class="id" title="var">L</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#49af51f22ba6081c5259453e85aa12b3"><span class="id" title="notation">⊥</span></a>)), (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#path_tp_delay"><span class="id" title="lemma">path_tp_delay</span></a> (<span class="id" title="var">i</span> := 0)); <span class="id" title="var">wtcrush</span>; <span class="id" title="var">varsub</span>; <span class="id" title="var">ltcrush</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_ISub"><span class="id" title="constructor">iT_ISub</span></a> (<span class="id" title="var">i</span> := 1) (<span class="id" title="var">T1</span> := <a class="idref" href="D.Dot.examples.hoas.html#syn.hTAnd"><span class="id" title="definition">hTAnd</span></a> (<a class="idref" href="D.Dot.examples.hoas.html#hoasNotation.hx0"><span class="id" title="abbreviation">hx0</span></a> <a class="idref" href="D.Dot.examples.hoas.html#20eaa41cf53828edc65b75a9d71d904c"><span class="id" title="notation">@;</span></a> "List") <span class="id" title="var">U</span>)).<br/>
&nbsp;&nbsp;<span class="comment">(******)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;seem&nbsp;stuck&nbsp;here.&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;*we*&nbsp;wrote<br/>
&nbsp;&nbsp;x.List&nbsp;&amp;&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat&nbsp;},&nbsp;and&nbsp;that's&nbsp;&lt;:&nbsp;(▶:&nbsp;ListBody)&nbsp;&amp;&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat&nbsp;},&nbsp;and&nbsp;we&nbsp;have&nbsp;no<br/>
&nbsp;&nbsp;rule&nbsp;to&nbsp;deal&nbsp;with&nbsp;that&nbsp;Later&nbsp;*in&nbsp;the&nbsp;syntax*&nbsp;*yet*.<br/>
&nbsp;&nbsp;But&nbsp;we&nbsp;know&nbsp;that&nbsp;(▶:&nbsp;ListBody)&nbsp;&amp;&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat&nbsp;}&nbsp;&lt;:&nbsp;(▶:&nbsp;ListBody)&nbsp;&amp;&nbsp;▶:&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat&nbsp;}.<br/>
&nbsp;&nbsp;Next,&nbsp;<span class="inlinecode"><span class="id" title="var">Distr_TLater_And</span></span>&nbsp;gets&nbsp;us&nbsp;to<br/>
&nbsp;&nbsp;(▶:&nbsp;(ListBody&nbsp;&amp;&nbsp;{&nbsp;A&nbsp;&lt;:&nbsp;Nat&nbsp;}),&nbsp;and&nbsp;we're&nbsp;back&nbsp;in&nbsp;business!<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ettrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#iLater_Sub"><span class="id" title="constructor">iLater_Sub</span></a>; <span class="id" title="var">stcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ettrans</span>; [|<span class="id" title="tactic">apply</span>: <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iAnd_Later_Sub_Distr"><span class="id" title="lemma">iAnd_Later_Sub_Distr</span></a>; <span class="id" title="var">stcrush</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tcrush</span>; [<span class="id" title="var">lThis</span> | <span class="id" title="var">lNext</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#iSel_Sub"><span class="id" title="constructor">iSel_Sub</span></a>; <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#iT_ISub_nocoerce"><span class="id" title="lemma">iT_ISub_nocoerce</span></a>; <span class="id" title="var">ltcrush</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_All_E"><span class="id" title="constructor">iT_All_E</span></a>, <span class="id" title="var">Hsnil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#iT_All_E"><span class="id" title="constructor">iT_All_E</span></a> (<span class="id" title="var">T1</span> := <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>)); <span class="id" title="var">last</span> <span class="id" title="var">tcrush</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Perform&nbsp;avoidance&nbsp;on&nbsp;the&nbsp;type&nbsp;application.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing_derived_rules.html#tyApp_typed"><span class="id" title="lemma">tyApp_typed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <a class="idref" href="D.Dot.examples.hoas.html#49045ffec38a75053344fc4b3dd8a9a9"><span class="id" title="notation">𝐙</span></a>%<span class="id" title="var">HS</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">ltcrush</span>; <span class="id" title="tactic">cbv</span> -[<span class="id" title="var">Γ'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#iSub_Sel'"><span class="id" title="lemma">iSub_Sel'</span></a>, (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#path_tp_delay"><span class="id" title="lemma">path_tp_delay</span></a> (<span class="id" title="var">i</span> := 0)); <span class="id" title="tactic">try</span> (<span class="id" title="var">typconstructor</span>; <span class="id" title="var">var</span>); <span class="id" title="var">wtcrush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lNext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lNext</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.Dot.examples.old_typing.old_subtyping.html#iSel_Sub"><span class="id" title="constructor">iSel_Sub</span></a>, (<a class="idref" href="D.Dot.examples.old_typing.old_subtyping_derived_rules.html#path_tp_delay"><span class="id" title="lemma">path_tp_delay</span></a> (<span class="id" title="var">i</span> := 0)); <span class="id" title="tactic">try</span> (<span class="id" title="var">typconstructor</span>; <span class="id" title="var">var</span>); <span class="id" title="var">wtcrush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a name="clListTypNat3"><span class="id" title="definition">clListTypNat3</span></a> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.Dot.examples.syn.list.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">u</span></a><a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">⊢ₜ</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hclListV'"><span class="id" title="definition">hclListV'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">bool</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="D.Dot.examples.syn.list.html#hheadCons"><span class="id" title="definition">hheadCons</span></a>) <a class="idref" href="D.Dot.examples.old_typing.old_unstamped_typing.html#90fa6feef7d9684c409ad19e24b1fb7c"><span class="id" title="notation">:</span></a> <a class="idref" href="D.Dot.examples.ex_utils.html#9acbcffb20db69ef700fcb30f172df05"><span class="id" title="notation">𝐙</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="D.Dot.examples.syn.list.html#clListTyp'2"><span class="id" title="definition">clListTyp'2</span></a>, <a class="idref" href="D.Dot.examples.syn.list.html#hheadConsTyp"><span class="id" title="definition">hheadConsTyp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
