<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">D.iris_extra.det_reduction</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab5"></a><h1 class="section">Define when a language is deterministic and when an expression is safe.</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">D</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.prelude.html#"><span class="id" title="library">prelude</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/iris/'/iris.program_logic.language.html#"><span class="id" title="library">language</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/iris/'/iris.program_logic.ectx_language.html#"><span class="id" title="library">ectx_language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Suggest</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="L"><span class="id" title="module">L</span></a> := <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/iris/'/iris.program_logic.language.html#"><span class="id" title="module">language</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a name="EL"><span class="id" title="module">EL</span></a> := <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/iris/'/iris.program_logic.ectx_language.html#"><span class="id" title="module">ectx_language</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">L</span> <span class="id" title="var">EL</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">language</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="Proper_LanguageCtx"><span class="id" title="instance">Proper_LanguageCtx</span></a> <span class="id" title="var">Λ</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="D.iris_extra.det_reduction.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K1</span> <span class="id" title="var">K2</span> <span class="id" title="var">Heq</span> [???]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">setoid_rewrite</span> &lt;-<span class="id" title="var">Heq</span> ⇒ *; <span class="id" title="tactic">auto</span> 2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="unit_pi"><span class="id" title="instance">unit_pi</span></a>: <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Syntax.html#fbbfb55f1ee0a61e0473fa0799e34e17"><span class="id" title="notation">()</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab6"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="D.iris_extra.dlang.html#LiftWp.dlang_adequacy.LangDet"><span class="id" title="section">LangDet</span></a></span> defines when a language is deterministic.</h2>

</div>
<div class="code">
<span class="comment">(*&nbsp;Instances&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">Inhabited</span></span>&nbsp;must&nbsp;not&nbsp;be&nbsp;bundled,&nbsp;as&nbsp;usual&nbsp;for&nbsp;operational&nbsp;type<br/>
classes.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="InhabitedState"><span class="id" title="abbreviation">InhabitedState</span></a> <span class="id" title="var">Λ</span> := (<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <span class="id" title="var">Λ</span>)).<br/>
<span class="id" title="keyword">Class</span> <a name="LangDet"><span class="id" title="record">LangDet</span></a> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">L.language</span></a>) `{<a class="idref" href="D.iris_extra.det_reduction.html#InhabitedState"><span class="id" title="abbreviation">InhabitedState</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>} := {<br/>
&nbsp;&nbsp;<a name="prim_step_PureExec"><span class="id" title="projection">prim_step_PureExec</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> 1 <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>;<br/>
&nbsp;&nbsp;<a name="lang_inh_state"><span class="id" title="projection">lang_inh_state</span></a> : <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)<br/>
}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">lang_inh_state</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="EctxLangDet"><span class="id" title="record">EctxLangDet</span></a> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#ectxLanguage"><span class="id" title="record">EL.ectxLanguage</span></a>) `{<a class="idref" href="D.iris_extra.det_reduction.html#InhabitedState"><span class="id" title="abbreviation">InhabitedState</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>} := {<br/>
&nbsp;&nbsp;<a name="head_step_PureExec"><span class="id" title="projection">head_step_PureExec</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#head_step"><span class="id" title="projection">EL.head_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">L.PureExec</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> 1 <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>;<br/>
&nbsp;&nbsp;<a name="ectx_inh_state"><span class="id" title="projection">ectx_inh_state</span></a> :&gt; <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)<br/>
}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="D.iris_extra.det_reduction.html#EctxLangDet"><span class="id" title="class">EctxLangDet</span></a> <span class="id" title="var">Λ</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ectx_inh_state</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="dummyState"><span class="id" title="abbreviation">dummyState</span></a> := (<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">uniqueState</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">s</span> : ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Λ</span> := <span class="id" title="tactic">fresh</span> "Λ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">evar</span> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">language</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">T</span> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> ?<span class="id" title="var">Λ</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Λ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#proof_irrel"><span class="id" title="definition">proof_irrel</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This defines, in fact, pure and deterministic termination. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="terminates"><span class="id" title="definition">terminates</span></a> {<span class="id" title="var">Λ</span>} (<span class="id" title="var">e</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">v</span> : <a class="idref" href="D.iris_extra.det_reduction.html#val"><span class="id" title="projection">L.val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#of_val"><span class="id" title="projection">L.of_val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="PureExec_to_terminates"><span class="id" title="lemma">PureExec_to_terminates</span></a> {<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">L.language</span></a>} <span class="id" title="var">n</span> φ <span class="id" title="var">e</span> <span class="id" title="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#of_val"><span class="id" title="projection">L.of_val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#terminates"><span class="id" title="definition">terminates</span></a> (<span class="id" title="var">Λ</span> := <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#nsteps_rtc"><span class="id" title="lemma">nsteps_rtc</span></a>, <span class="id" title="var">HP</span>, <span class="id" title="var">H</span>φ. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="not_stuck"><span class="id" title="abbreviation">not_stuck</span></a> <span class="id" title="var">e</span> := (<a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="definition">L.not_stuck</span></a> <span class="id" title="var">e</span> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h2 class="section">Safety for an arbitrary Iris language.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="safe_gen"><span class="id" title="definition">safe_gen</span></a> {<span class="id" title="var">Λ</span>} (<span class="id" title="var">e</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">thp</span> σ σ'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="definition">L.not_stuck</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h2 class="section">For a deterministic language, we can give a simpler definition.</h2>

<span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_equiv"><span class="id" title="lemma">safe_equiv</span></a></span> shows this is equivalent to <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="safe"><span class="id" title="definition">safe</span></a> `{<a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span>} (<span class="id" title="var">e</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="abbreviation">not_stuck</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e'"><span class="id" title="variable">e'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="D.iris_extra.det_reduction.html#rtc"><span class="id" title="inductive">rtc</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">Λ</span>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_to_prim"><span class="id" title="lemma">pure_to_prim</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> σ:<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [/(<span class="id" title="var">_</span> σ) [? [? [? <span class="id" title="var">Hsafe</span>]]] <span class="id" title="var">Hpure</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hpure</span>; [<span class="id" title="tactic">exact</span>: <span class="id" title="var">Hsafe</span>|] ⇒ {<span class="id" title="var">Hpure</span>}. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HlangDet</span> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>}.<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> {<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span>} :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_PureExec"><span class="id" title="method">prim_step_PureExec</span></a> /(<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#nsteps_once_inv"><span class="id" title="lemma">nsteps_once_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a> σ <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#pure_to_prim"><span class="id" title="lemma">pure_to_prim</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_pure_eq'"><span class="id" title="lemma">prim_step_pure_eq'</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> {<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e2'</span> σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span>} :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hpure</span> ?; <span class="id" title="var">edestruct</span> (<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det"><span class="id" title="projection">pure_step_det</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpure</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_det"><span class="id" title="lemma">prim_step_det</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e2'</span> σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> + <span class="id" title="var">Hstep</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>) [? <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_step_det"><span class="id" title="lemma">pure_step_det</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e2'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2'"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq'"><span class="id" title="lemma">prim_step_pure_eq'</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_det"><span class="id" title="lemma">prim_step_det</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_inversion"><span class="id" title="lemma">prim_step_inversion</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">have</span> <span class="id" title="var">Hpure</span> := <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> <span class="id" title="var">Hstep</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? := <a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> <span class="id" title="var">Hpure</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_inversion"><span class="id" title="lemma">prim_step_inversion</span></a> <span class="id" title="var">H</span>); <span class="id" title="var">destruct_and</span>!; <span class="id" title="var">simplify_eq</span>/=.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_view"><span class="id" title="lemma">prim_step_view</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">Hstep</span> : <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">Hstep</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prim_step_step"><span class="id" title="lemma">prim_step_step</span></a> <span class="id" title="var">e1</span> σ <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ' <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">L.step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_view"><span class="id" title="lemma">prim_step_view</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#step_atomic"><span class="id" title="constructor">step_atomic</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<span class="id" title="var">t2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">prim_step_step</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="step_inversion"><span class="id" title="lemma">step_inversion</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">thp</span> σ σ' <span class="id" title="var">κ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [????? <span class="id" title="var">t0</span> ??? <span class="id" title="var">Hstep</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> [|?[]]; [| <span class="id" title="var">naive_solver</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">Hstep</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="step_inversion'"><span class="id" title="lemma">step_inversion'</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">thp</span> σ σ' <span class="id" title="var">κ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a> [<span class="id" title="var">e2'</span> [-&gt; [-&gt;]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="erased_step'"><span class="id" title="definition">erased_step'</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> := <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_step_erased"><span class="id" title="lemma">pure_step_erased</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ <span class="id" title="var">Hsafe</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_step"><span class="id" title="lemma">prim_step_step</span></a>, <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsafe</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hsafe</span>%<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a> <span class="id" title="var">t1</span> σ <span class="id" title="var">res</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">res</span> ⇒ ?? [? /<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a> <span class="id" title="var">Hst</span>]; <span class="id" title="var">uniqueState</span>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;erased_step_inversion1&nbsp;{t1&nbsp;thp&nbsp;σ&nbsp;σ'}&nbsp;:<br/>
&nbsp;&nbsp;erased_step&nbsp;(<span class="inlinecode"><span class="id" title="var">t1</span></span>,&nbsp;σ)&nbsp;(thp,&nbsp;σ')&nbsp;→<br/>
&nbsp;&nbsp;∃&nbsp;t2,&nbsp;thp&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="var">t2</span></span>&nbsp;∧&nbsp;L.prim_step&nbsp;t1&nbsp;σ&nbsp;<span class="inlinecode"></span>&nbsp;t2&nbsp;σ'&nbsp;<span class="inlinecode"></span>.<br/>
Proof.&nbsp;move&nbsp;=&gt;&nbsp;/erased_step_inversion;&nbsp;naive_solver.&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_steps_erased"><span class="id" title="lemma">pure_steps_erased</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step'"><span class="id" title="definition">erased_step'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc_congruence"><span class="id" title="lemma">rtc_congruence</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="'https://www.ps.uni-saarland.de/autosubst/doc/'/Autosubst.Autosubst_Basics.html#id"><span class="id" title="definition">id</span></a>) ⇒ ?? /<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_erased"><span class="id" title="lemma">pure_step_erased</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> →<span class="id" title="var">pure_step_erased</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> &lt;-<span class="id" title="var">pure_step_erased</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rtc_erased_step_inversion'"><span class="id" title="lemma">rtc_erased_step_inversion'</span></a> `{<a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span>} {<span class="id" title="var">t1</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>} {<span class="id" title="var">res</span> σ}<br/>
&nbsp;&nbsp;(<span class="id" title="var">Hs</span> : <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res"><span class="id" title="variable">res</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hs</span> ⇒ <span class="id" title="var">cfg</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hs</span> <span class="id" title="var">t1</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Out&nbsp;of&nbsp;the&nbsp;section&nbsp;to&nbsp;workaround&nbsp;bugs&nbsp;with&nbsp;dependent&nbsp;induction.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a> `{<a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span>} <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased"><span class="id" title="lemma">pure_steps_erased</span></a> /<a class="idref" href="D.iris_extra.det_reduction.html#erased_step'"><span class="id" title="definition">erased_step'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> <span class="id" title="var">E1</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">c1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E2</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">c2</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hs</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="LangDet"><span class="id" title="section">LangDet</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HlangDet</span> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="rtc_erased_step_inversion"><span class="id" title="lemma">rtc_erased_step_inversion</span></a> {<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> σ σ' <span class="id" title="var">thp</span>} :<br/>
&nbsp;&nbsp;<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Hs</span>; <span class="id" title="var">have</span> [<span class="id" title="var">t2'</span> ?] := <a class="idref" href="D.iris_extra.det_reduction.html#rtc_erased_step_inversion'"><span class="id" title="lemma">rtc_erased_step_inversion'</span></a> <span class="id" title="var">Hs</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> /<a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">For a deterministic language, <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a></span> and <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a></span> are equivalent.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="safe_equiv"><span class="id" title="lemma">safe_equiv</span></a> <span class="id" title="var">e</span> : <a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a> /<a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsafe</span> ?*.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hred</span>%<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hsafe</span> <span class="id" title="var">e'</span>), <a class="idref" href="'https://plv.mpi-sws.org/coqdoc/stdpp/'/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> ⇒ + <span class="id" title="var">Hin</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#rtc_erased_step_inversion"><span class="id" title="lemma">rtc_erased_step_inversion</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">uniqueState</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="EctxLangDet"><span class="id" title="section">EctxLangDet</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>} `{<a class="idref" href="D.iris_extra.det_reduction.html#EctxLangDet"><span class="id" title="class">EctxLangDet</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="EctxLangDet_LangDet"><span class="id" title="instance">EctxLangDet_LangDet</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#43097fd4f1cbff9ec3b79ced847944bd"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>] ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="var">simplify_eq</span>/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#pure_exec_fill"><span class="id" title="instance">pure_exec_fill</span></a>, <a class="idref" href="D.iris_extra.det_reduction.html#head_step_PureExec"><span class="id" title="method">head_step_PureExec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#EctxLangDet"><span class="id" title="section">EctxLangDet</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
